<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>
    <style>
        .over {
            background-color: orange;
        }
        .selected {
            background-color: green;
        }
    </style>

    <body>
        <div id="buttons"></div>
        <button id="reset">reset</button>
        <table id="table" border='1'>
            <tr>
              <thead>
                <th>name</th>
                <th>role</th>
                <th>house</th>
                <th>gender</th>
                <th>alignment</th>
              </thead>
            </tr>
        </table>
    </body>
        
        <script>
        // Cameron Shimmin
        // HW 7 - Potterific
        // 2.18.23
          
        // list of characters
        var characters = [
        {name:"Albus Dumbledore", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Nymphadora Tonks", role:"", house:"Hufflepuff",gender:"f",alignment:"good"},    
        {name:"Ron Weasley", role:"student", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Ginny Weasley", role:"student", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Hermione Granger", role:"student", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Mad-eye Moody", role:"staff", house:"",gender:"m",alignment:"good"},    
        {name:"Prof McGonagall", role:"staff", house:"Gryffindor",gender:"f",alignment:"good"},    
        {name:"Harry Potter", role:"student", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Draco Malfoy", role:"student", house:"Slytherin",gender:"m",alignment:"evil"},    
        {name:"Hagrid", role:"staff", house:"Gryffindor",gender:"m",alignment:"good"},    
        {name:"Luna Lovegood", role:"student", house:"Ravenclaw",gender:"f",alignment:"good"},    
        {name:"Voldemort", role:"", house:"Slytherin",gender:"m",alignment:"evil"},    
        {name:"Bellatrix Lestrange", role:"", house:"Slytherin",gender:"f",alignment:"evil"},           
        {name:"Severus Snape", role:"staff", house:"Slytherin",gender:"m",alignment:"?"}
        ];
        var houses = new Set();
          
        const clearTable = () => {
          $("#table tbody tr").remove();
        }
          
        const displayHouse = (house = "") => {
          clearTable();
          buildTable(house);
          $("tr:even").addClass("over");
          $("tr:odd").addClass("selected");
          $("thead > tr").addClass("selected")
        }
          
        const buildTable = (house = "") => {
            var tableBody = $("#table > tbody");
          
            characters.forEach((character) => {
              if (character.house === house || house === "") {
                var row = tableBody[0].insertRow();
                var nameCell = row.insertCell(0);
                var roleCell = row.insertCell(1);
                var houseCell = row.insertCell(2);
                var genderCell = row.insertCell(3)
                var alignmentCell = row.insertCell(4);
                
                nameCell.innerHTML = character.name;
                roleCell.innerHTML = character.role;
                houseCell.innerHTML = character.house;
                genderCell.innerHTML = character.gender;
                alignmentCell.innerHTML = character.alignment;
              }
            });
          }
              
        const buildHouseButtons = () => {
            characters.forEach((character) => {
              if (character.house != "") {
                houses.add(character.house)
              }
            });
          
          var buttonDiv = $("#buttons")
          
          houses.forEach((house) => {
            var button = document.createElement('button');
            button.innerText = house;
            
            button.addEventListener("click", () => {
              displayHouse(house);
            });
            buttonDiv[0].appendChild(button);
          });
        }
          
        $(document).ready(function() {
          var resetButton = $("#reset")
          resetButton[0].addEventListener("click", () => {
            displayHouse()
          });
        });
          
        buildHouseButtons();
        displayHouse()
        </script>
</html>